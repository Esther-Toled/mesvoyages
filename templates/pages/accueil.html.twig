{% extends "basefront.html.twig" %}
{% block body %}
<h1>Bienvenue sur mon site personnel de présentation de mes voyages.</h1>
<p>
    Dans la partie <a href="{{ path('voyages') }}">Voyages</a>, vous pouvez voir la liste des visites que j'ai faites dans différentes villes.
<br></br> 
    A chaque fois j'ai précisé la ville visitée, le pays, j'ai mis une note (entre 0 et 20) et il y a aussi la date de la visite.
<br></br> 
    Vous pouvez trier la liste en fonction des villes, des pays, des notes et des dates, aussi bien dans l'ordre croissant que décroissant.
<br></br>   
    Vous pouvez aussi filtrer les visites par rapport à une ville ou un pays.
<br></br>  
    En cliquant sur la ville de la visite, vous pourrez avoir plus d'informations dessus :
    températures min et max, une description de la visite, les environnements (montagne, mer, désert...) et une photo.
<br></br> 
    Enfin, vous pouvez me contacter avec le formulaire de <a href="{{ path('contact') }}">Contact</a>.
</p>

<h3>Voici mes derniers voyages</h3>
    <!--emplacement derniers voyages-->
    <table>
        <tr>
            {% for visite in visites %}        
                <td style="vertical-align: text-top; width: 50%">
                    <div class="row">   
                        <div class="col">
                            <!-- emplacement photo -->   
                            {% if visite.imagename %}
                                <img src="{{ app.request.getBasePath()~vich_uploader_asset(visite, 'imageFile') }}"
                                     class="card-img-top" style="width:100%;height:auto;">
                            {% else %}
                                <p>(aucune image)</p>
                            {% endif %}
                        </div>
                        <div class="col">
                            <p class="text-start">
                                {{ visite.datecreationstring }}           
                            </p>
                            <h5 class="text-primary">
                                <a href="{{ path('voyages.showone', {id:visite.id}) }}">{{ visite.ville }}</a>
                            </h5>   
                            {{ visite.pays }}
                            <p class="text-end">
                            <strong>
                                {% if visite.note<10 %}
                                    <div class="text-danger">
                                        {{ visite.note }}/20
                                    </div>
                                {% else %}
                                    <div class="text-success">
                                        {{ visite.note }}/20
                                    </div>                  
                                {% endif %}
                            </strong>
                            </p>             
                            <h5 class="mt-5">t° entre {{ visite.tempmin }}° et {{ visite.tempmax }}°</h5>           
                            <p class="mt-5"><strong>Environnements :</strong>
                                {% for environnement in visite.environnements %}
                                    {{ environnement.nom }}
                                {% endfor %} 
                            </p>
                        </div>
                    </div>
                </td>
            {% endfor %}
        </tr>
    </table>
    
{% endblock %}